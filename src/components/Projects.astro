---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";
import type { UI } from "../types";

interface Props {
	projects: UI["index"]["projects"];
}
const { projects } = Astro.props;

const images = import.meta.glob<{ default: ImageMetadata }>(
	"/src/assets/**/*.{jpeg,jpg,png,gif}",
);

/* {project.detail.images.map((image) => (
			<Image src={images[image.src]()} alt={image.alt} />
		))
	} */
---

<section id="projects">
	<div class="width-limit w-full flex-col gap-12">
		<h2>{projects.heading}</h2>
		<div class="grid grid-cols-1 gap-6 lg:grid-cols-2">
			{
				projects.projects.map((project) => (
					<div class="primary-border flex flex-col items-start justify-between gap-2">
						<div class="flex flex-col items-start justify-center gap-2">
							<h3 class="mb-0">{project.title}</h3>
							<p>{project.description}</p>
							<div class="flex flex-row flex-wrap items-center gap-x-3 gap-y-2 lg:gap-x-7">
								{project.technologies.map((technology) => (
									<div class="bg-primary-900 flex flex-row items-center justify-evenly gap-2.5 rounded-3xl px-4 py-1.5">
										<Icon
											name={technology.icon}
											class="h-5 w-5 text-white lg:h-7 lg:w-7"
										/>
										<p class="text-base/tight text-white md:text-lg lg:text-xl">
											{technology.name}
										</p>
									</div>
								))}
							</div>
						</div>
						<div class="mt-6 flex flex-row items-center justify-start gap-4">
							<a
								class="button-small"
								target="_blank"
								rel="noopener noreferrer"
								href={project.github.href}
							>
								<div class="flex flex-row items-center gap-1.5 md:gap-2.5 lg:gap-2">
									<Icon
										name="github"
										class="md:lg-7 h-6 w-6 md:h-7 lg:h-8 lg:w-8"
									/>
									<span class="text-white">{project.github.buttonText}</span>
								</div>
							</a>
						</div>
					</div>
				))
			}
		</div>
	</div>
</section>
